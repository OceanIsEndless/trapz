<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="format-detection" content="telephone=no">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1">
	<title>Trap Adventure 2</title>
	<meta name="description" content="Trap Adventure 2 is a brutally difficult and unforgiving platforming game. Play for free online." />
	<meta name="keywords" content="Trap Adventure 2" />
	<meta property="og:image" content="https://trapz.io/img/trapz-share.png"/>
	<link rel="icon" type="image/x-icon" href="favicon.ico" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />	
</head>
<body class="loaded trapz">
							
<!-- BEGIN BODY -->
<div id="gameDiv" style="text-align: center; position:absolute;">
</div>
<div id="loading" style="text-align: center; display: none;"></div>

<div id="title" class="main-wrapper" style="text-align: center; position:absolute;">

						
<!-- BEGIN CONTENT -->

	<main class="content">		
				
		<div class="wrapper trapz-wrapper login">
			<div class="center-block">
				<h1 style="font-size:100px;">TRAP ADVENTURE 2</h1>
				<div class="main-trapz">
					<div class="main-trapz__item main-trapz__item_left trapz-block" id="bannerSpr">
					</div>
					<div class="main-trapz__item main-trapz__item_center" id="login">
						<div class="main-trapz__form-wrapper trapz-block">
								<input type="text" class="main-trapz__input" id="inputName" name="name" placeholder="Enter Name" autofocus="autofocus" maxlength="12">
								<button class="main-trapz__submit" type="submit" onclick="window.firstShowGame()">Play Game</button>
						</div>
						
					</div>
						
					<div class="main-trapz__item main-trapz__item_right trapz-block how_to" id="howtoplay">
						<div class="trapz-info">							
							<h2 style="padding-top: 0px;">How to play</h2>
							<p>Collect coins and battle other players. Climb higher up the walls - coins are more plentiful up there. Beware of the traps.</p>
							<h2>Controls</h2>
							<p>A - left, D - right</p>
							<p>W, Space - jump</p>
							<p>Left mouse button - attack</p>
						</div>
					</div>

					<div class="main-trapz__item_long gameover" id="gameover">
						<div class="main-trapz__form-wrapper trapz-block">
							<h2>GAME OVER</h2>
							<h3 id="gameOverReason">Traps are deadly!</h3>
							<h4 id="gameOverStats">Game stats:<br></h4>
							<p id="statText">Gold:<br>Kills:<br>Time:<p>  
							<button class="main-trapz__submit" type="submit" onclick="window.hideGameOverAndStart();" autofocus="autofocus">PLAY AGAIN</button>
							<!-- <br>
							<button class="main-trapz__submit" type="submit" style="margin-top: 10px;" onclick="window.goMoreGames();">PLAY OTHER GAMES</button> -->
						</div>
					</div>
					
					<div class="main-trapz__item" id="promote">
						<div class="trapz-info trapz-block how_to">
						<center><h2 style="padding-top: 0px;">Play Also</h2></center>
						<div id="cross-promo">
						<center></center>
						</div>
						</div>
						<div class="main-trapz__download trapz-block">
							<div class="fb-page" data-href="https://www.facebook.com/trapzio" data-width="290" data-small-header="true" data-adapt-container-width="false" data-hide-cover="false" data-show-facepile="false"><blockquote cite="https://www.facebook.com/trapzio" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/trapzio">Trapz.io</a></blockquote></div>
						</div>
					</div>

				</div>
			</div>
		</div>		
			

						
	</main>	
			
<!-- CONTENT EOF   -->
							

<!-- BEGIN HEADER -->

	<header>		
		<div class="wrapper">

		</div>		
	</header>
	
<!-- HEADER EOF   -->	

<!-- BEGIN FOOTER -->	
	
	<footer class="footer">
		<div class="footer__wrapper">
			<div class="footer__social social">
				<p>Thank you for playing</p>
				<div class="social__block">
					<a href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Ftrapz.io%2F&ref_src=twsrc%5Etfw&text=TRAPZ.IO&tw_p=tweetbutton&url=https%3A%2F%2Ftrapz.io%2F"  target="_blank" class="social__link">
						<img src="img/tweet.png" alt="Tweet">
					</a>
					<a href="https://www.facebook.com/sharer/sharer.php?u=https://trapz.io&title=TRAPZ.IO"  target="_blank" class="social__link">
						<img src="img/fb.png" alt="Facebook share">
					</a>
					<a href="https://discord.gg/Y2fEA9z" target="_blank" class="social__link">
						<img alt="DISCORD" src="img/discord.png" height="31px">
					</a>
				</div>
			</div>
			<div class="footer__menu">
				<nav class="footer__nav nav">
					<ul class="nav__list">
						<li><a href="../versions" target="_blank"  class="nav__link js-fancybox">v0.5</a></li>
						<li id="gameBtn"><a href="javascript:void(0)" onclick="window.showMain()" class="nav__link js-fancybox">Game</a></li>
						<li><a href="#popup-about" class="nav__link js-fancybox">About Game</a></li>
						<li><a href="../privacy" target="_blank"  class="nav__link js-fancybox">Privacy</a></li>
						<li><a href="mailto:info@trapz.io" class="nav__link js-fancybox">Contact</a></li>
					</ul>
				</nav>
			</div>
		</div>	
	</footer>
	
<!-- FOOTER EOF   -->
<!-- YOUTUBER -->
<div class="youtuber">
	<p>Featured Youtuber:</p>
	
	<div class="g-ytsubscribe" data-channel="SirGodenot" data-layout="full" data-theme="dark" data-count="default"></div>
</div>
<!-- YOUTUBER EOF -->

<!-- LEADERBOARDS -->
<div class="link_lb">
	<p><a href="../leaderboards" target="_blank" >Leaderboards</a></p>
	
</div>
<!-- LEADERBOARDS EOF -->

<!-- ABOUT GAME  -->
<div class="popup" id="popup-about">
	<div class="popup-cnt">
		<a class="close-popup" href="#">
			<span></span>
			<span></span>
		</a>
		
			<h2>About Game</h2>
	
			<p>Trap Adventure 2 is a brutally difficult and unforgiving platforming game that is already considered a classic. Visually reminiscent of many popular 8 bit titles, this game captivates players all over the world with it's innovative level design created with only one goal in mind: make the gamer suffer.</p>
<p>You are a small adventurer investigating a mysterious dungeon full of terrors. Traps await you at every corner and hit you when you least expect it. Your instincts and reflexes will let you down over and over.</p>
<p>Just look at some famous gamers trying to beat it for the first time. Here's PewDiePie playing Trap Adventure, but failing miserably and getting more frustrated by the minute: https://youtu.be/C1ObitoLwhM. </p>
<p>Okay, maybe someone who's really into hardcore platformers would do better - let's check out VideoGameDunkey's highlights: https://youtu.be/_nW9k6k1I3k. Oh well. Seems cruel and sadistic, but captivating and fun at the same time, doesn't it? </p>
<p>Well, imagine the same experience in multiplayer. Enter Trapz.io - the first multiplayer platforming game in the setting of Trap Adventure. This time multiple adventurers run around a meticulously designed map full of spikes and other traps and attacking each other with sharp swords!</p>
<p>Do you think you have what it take to survive and become the champion of Trapz.io? Time to find out!</p>
	
	</div>
</div>



</div>		

<div class="logo-load"></div>		
<div class="icon-load"></div>		
<div class="icon-under-load"></div>		

<!-- BODY EOF   -->
	
	<script type="text/javascript" src="js/jquery-3.0.0.min.js"></script>		
	<script type="text/javascript" src="js/jquery-migrate-1.4.1.min.js" ></script>
	
	<script type="text/javascript" src="js/components/jquery.fancybox.js" ></script>
	<script type="text/javascript" src="js/custom.js" ></script>
					
	<script src="./libs/socket.io.slim.js"></script>
    <script src="./libs/phaser.js"></script>
    <script src="./libs/phaser-input.js"></script>
					
	<style>
        @font-face {
            font-family: "Pixel Cyr";
            font-style: normal;
            font-weight: 400;
            src: url("../assets/fonts/pixel.ttf");
        }
    </style>
   <script src="jsembed104.js" type="text/javascript"></script>
   <script src="final.min.js"></script>
	<script>

       
		
		window.startLoadGame = function()
		{
			console.log('start load new game');
			var params = {
            "indexroot": "true",
            "base": "",
            "api": "none",
            "autoscale": "true"
			};

			var attr = {

			};
			//enables autoresize
			jsembed.embed("final.min.js", "gameDiv", "990", "630", params, attr);
		}
		
		window.goMoreGames = function()
		{
			window.open('https://kevin.games', '_blank');
		}
		
		window.checkGameOverScreenOn = function()
		{
			return $('#gameover').is(':visible');
			//return ($('.game_over').style.display === 'none')
		}
		
		
		window.showGameOver = function()
		{
			//$('.how_to').hide();
			$('#login').hide();
			$('#howtoplay').hide();
			$("#title").show();
			$("#gameBtn").show();
			$("#bannerSpr").show();
			//document.getElementById("title").style.display = "flex";
			window.updateStatText();
			$('#promote').show();
			$('#gameover').show();
			console.log("show game over");
			//window.hideGame();
		}
		
		window.showMain = function()
		{
			//$('.how_to').hide();
			$('#login').show();
			$('#howtoplay').show();
			$("#title").show();
			$("#gameBtn").hide();
			//document.getElementById("title").style.display = "flex";
			$('#promote').hide();
			$('#gameover').hide();
			console.log("show main");
			$("#bannerSpr").show();
			//window.hideGame();
		}
		
		window.hideGameOver = function()
		{
			//$('.how_to').hide();
			$('#login').show();
			$('#howtoplay').show();
			$('#gameover').hide();
			$('#promote').hide();
			
		}
		
		window.hideGameOverAndStart = function()
		{
			window.hideGameOver();
			
			//window.showGame();
			window.open('https://trapz.io/?'+'nick='+ window.inputName, '_self');//, '_self'
			
		}
		
		window.firstShowGame= function()
		{
			window.inputName = document.getElementById('inputName').value;
			
			
			
			
			$("#title").hide();
			$('#gameover').hide();
			$('#promote').hide();
			$("#gameDiv").show();
			$("#loading").show();
			document.getElementById("loading").style.backgroundSize = window.innerWidth + 'px ' + window.innerHeight + 'px';
			//widow.startLoadGame();
			if(window.game.loaded&&!window.loadedFirst)
			{
				window.game.state.start('PlayState', false, false);//
			}
			else
			{
				window.showGame();
			}
			
			
		}
		
		
		window.showGame = function()
		{
			$("#title").hide();
			$("#gameDiv").show();
			window.game.paused = false;
			if(typeof window.continueAfterDeath !== 'undefined')
			window.continueAfterDeath();//
			/*
			//removed restrts
			window.restartsCount++;
			if(window.restartsCount>0)
			{
				window.restartsCount= 0;
				window.open('https://trapz.io/?'+'rnd='+ Math.floor(Math.random()*1000)+'&nick='+ window.inputName, '_self');//, '_self'
			}*/
		}
		
		window.updateStatText = function()
		{
			document.getElementById("statText").innerHTML = "Gold: " + window.goldStat + "<br>Kills: "+ window.killStat +"<br>Time: " + window.timeStat;
			
			if(window.killUser.length == 0)
			document.getElementById("gameOverReason").innerHTML = 'Traps are deadly!';
			else
			document.getElementById("gameOverReason").innerHTML = 'Killed by ' + window.killUser;
			//
		}
		
		window.hideGame = function()
	 	{
			console.log("hide game");
			document.getElementById("gameDiv").style.display = "none";
			document.getElementById("title").style.display = "flex";
			$("#gameDiv").hide();
			$("#gameDiv").css("visibility","hidden");
			
		}
		
		window.hideGame();
		window.hideGameOver();
		$("#gameBtn").hide();
		$("#bannerSpr").hide();
		
		$( document ).ready(function() {
			console.log( "ready!" );
			
			//window.showGameOver();//temp
			var nick = getUrlParameter('nick');
			if(typeof nick != 'undefined')
			{
				window.inputName = nick;
				document.getElementById('inputName').value = nick;
			}
			window.hideGameOver();
			window.startLoadGame();
			window.hideGame();
			$("#inputName").focus();
			$('#inputName').keydown(function(event) {
				if (event.keyCode == 13) {
				  window.firstShowGame();
				  return false;
				}
		    });
		  
			//for zoom
		   $(document).keydown(function(event) {
			if (event.ctrlKey==true && (event.which == '61' || event.which == '107' || event.which == '173' || event.which == '109'  || event.which == '187'  || event.which == '189'  ) ) {
			//alert('disabling zooming'); 
			event.preventDefault();
			// 107 Num Key  +
			//109 Num Key  -
			//173 Min Key  hyphen/underscor Hey
			// 61 Plus key  +/=
			   }
		  });

		    $(window).bind('mousewheel DOMMouseScroll', function (event) {
				 if (event.ctrlKey == true) {
				 //  alert('disabling zooming'); 
			   event.preventDefault();
			 }
			});
			//for zoom end
		})
		
		window.goldStat = 10;
		window.killStat = 10;
		window.timeStat = 100;
		window.killUser = '';
		window.restartsCount = 0;
		window.loadedFirst = false;
		
		var getUrlParameter = function getUrlParameter(sParam) {
			var sPageURL = decodeURIComponent(window.location.search.substring(1)),
				sURLVariables = sPageURL.split('&'),
				sParameterName,
				i;

			for (i = 0; i < sURLVariables.length; i++) {
				sParameterName = sURLVariables[i].split('=');

				if (sParameterName[0] === sParam) {
					return sParameterName[1] === undefined ? true : sParameterName[1];
				}
			}
		};
		
		const FONT_NAME = 'Pixel Cyr';

        function renderText() {
            let ctx = document.getElementById('gameDiv');
            ctx.font = `8px "${FONT_NAME}"`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
			ctx.innerHTML = ".";
            //ctx.fillText('text', 150, 50);
        }
		
		this.renderText();
			
		 jQuery(function ($) {
            // Called when the page is ready
            //hide console output
            console.log = function () { }
        });
    </script>
</body>
</html>